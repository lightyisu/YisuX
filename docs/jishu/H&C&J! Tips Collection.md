---
catalog:
  - jishu
date: '2025-11-04 08:00:00'
type: Post
slug: htmltip
title: H&C&J| Tips Collection
status: å·²å‘å¸ƒ
urlname: 282e9dc9-c245-80da-83c6-f1711a1eb1f7
updated: '2025-11-19 11:12:00'
---

# HCJï¼ˆå‰ç«¯åŸºç¡€ä¸‰ä»¶å¥—ï¼‰


## ğŸ‰Â SVGçš„ä½¿ç”¨


Svgå›¾ç‰‡åœ¨çŸ¢é‡é¢†åŸŸæŒºå—æ¬¢è¿çš„ï¼Œä½†æ˜¯æˆ‘ä¹‹å‰ä¸€ç›´è€æ˜¯ç”¨imgå»åŠ è½½è€Œå¤§éƒ¨åˆ†Webå…¶å®éƒ½æ˜¯åŸç”Ÿè½½å…¥Svgã€‚ä¹Ÿå°±æ˜¯è¯´å®¡æŸ¥å…ƒç´ çš„æ—¶å€™æ˜¯åŸç”Ÿæœ‰SvgåµŒå…¥çš„ï¼Œä½†æ˜¯æˆ‘img srcçš„è¯åŸºæœ¬å°±æ˜¯ç›´æ¥å¼•å…¥ï¼Œæ— æ³•æ§åˆ¶å†…éƒ¨çš„å…ƒç´ ã€‚


**1.ä½œä¸º Vue ç»„ä»¶ä½¿ç”¨**


**åˆ›å»ºä¸€ä¸ª SVG ç»„ä»¶æ–‡ä»¶ï¼Œä¾‹å¦‚**Â **`src/components/icons/MenuIcon.vue`**


```typescript
// src/components/icons/MenuIcon.vue
<template>
  <svg 
    :width="size" 
    :height="size" 
    viewBox="0 0 24 24" 
    fill="none" 
    xmlns="http://www.w3.org/2000/svg"
  >
    <path d="M3 12H21M3 6H21M3 18H21" :stroke="color" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
</template>

<script setup>
// å®šä¹‰ propsï¼Œè®©ç»„ä»¶æ›´çµæ´»
defineProps({
  size: {
    type: [Number, String],
    default: 24,
  },
  color: {
    type: String,
    default: 'currentColor',
  }
});
</script>
```


**use example**


```typescript
<template>
  <div>
    <!-- ä½¿ç”¨ç»„ä»¶ï¼Œå¹¶ä¼ å…¥ props -->
    <MenuIcon size="32" color="red" />
    <MenuIcon />
  </div>
</template>

<script setup>
import MenuIcon from '@/components/icons/MenuIcon.vue';
</script>
```


**2.æ’ä»¶æ¨¡ç‰ˆå¼è‡ªåŠ¨å¯¼å…¥**


å€ŸåŠ©æ’ä»¶æ¥è‡ªåŠ¨å®Œæˆè¿™ä¸ªè¿‡ç¨‹ã€‚è¿™é‡Œä»¥ Vite ä¸ºä¾‹ï¼Œä½¿ç”¨Â `vite-plugin-svg-icons`ã€‚



```typescript
<template>
  <div>
    <!-- ç›´æ¥ä½¿ç”¨ï¼Œname æ˜¯æ–‡ä»¶å -->
    <SvgIcon name="menu" size="24" color="blue" />
    <SvgIcon name="user" />
  </div>
</template>

<script setup>
// å¦‚æœå…¨å±€æ³¨å†Œäº† SvgIconï¼Œè¿™é‡Œå°±ä¸éœ€è¦å¯¼å…¥äº†
import SvgIcon from '@/components/SvgIcon.vue';
</script>
```


## ğŸ‰Â ç›’å­æ¨¡å‹


ç›’æ¨¡å‹

- **Contentï¼ˆå†…å®¹ï¼‰**
- **Paddingï¼ˆå†…è¾¹è·ï¼‰**
- **Borderï¼ˆè¾¹æ¡†ï¼‰**
- **Marginï¼ˆå¤–è¾¹è·ï¼‰**

é»˜è®¤**æ ‡å‡†ç›’æ¨¡å‹ï¼ˆè°·æ­Œç›’ï¼‰**


**(box-sizing: content-box)**


æ„æ€é»˜è®¤æƒ…å†µä¸‹å†™æ­»cssçš„widthå°±æ˜¯contentçš„å®½åº¦


ä»contentåŸºç¡€ä¸ŠåŠ padding , margin, å°±åƒå»ºæˆ¿å­æ—¶ï¼Œå¢™å£å¾€å¤–å»ºçš„æ•ˆæœä¸€æ ·ã€‚


**(box-sizing: border-box)ï¼ˆIEç›’ï¼‰**


widthæ˜¯æ•´ä¸ªç›’å­æ¨¡å‹çš„å®½åº¦


è®¾å®šäº†widthå°±æ˜¯æ•´ä¸ªå…ƒç´ çš„å®½åº¦ï¼Œå°±åƒæˆ¿å­å›ºå®šäº†å¾€å±‹å­é‡Œå»ºçš„æ•ˆæœã€‚


**æ€»ç»“ï¼šä¸åŒç›’æ¨¡å‹çš„widthè®¡ç®—ä¸ä¸€æ ·**


## ğŸ‰Â ç›’æ¨¡å‹ä¸‹çš„è¾¹è·marginé‡å -BFC / IFC


ä¸¤ä¸ªdivä¸Šä¸‹éƒ½æœ‰ä¸€å®šçš„margin é‡åˆ°çš„æ—¶å€™ä¸ä¼šå•çº¯çš„ç›¸åŠ  æ¯”å¦‚ä¸Šdiv margin 20px ä¸‹div margin 10px ä»–ä¿©ä¹‹é—´ä¸ä¼šäº§ç”Ÿ30pxçš„marginè€Œæ˜¯åˆå¹¶ä¸º20pxçš„margin


ï¼ˆå½“ä¸¤ä¸ª**å‚ç›´ç›¸é‚»**çš„**å—çº§å…ƒç´  (block-level element)**Â çš„å¤–è¾¹è·ç›¸é‡æ—¶ï¼Œå®ƒä»¬ä¼šåˆå¹¶ï¼ˆé‡å ï¼‰æˆä¸€ä¸ªå¤–è¾¹è·ã€‚åˆå¹¶åçš„å¤–è¾¹è·é«˜åº¦ç­‰äºä¸¤ä¸ªå‘ç”Ÿé‡å çš„å¤–è¾¹è·ä¸­çš„**è¾ƒå¤§è€…**ã€‚ï¼‰


**æœ‰äº›æ—¶å€™æˆ‘ä»¬ä¸å¸Œæœ›ä»–å‘ç”Ÿè¾¹è·é‡å ï¼Œæˆ‘ä»¬é‡‡ç”¨BFCå’ŒIFCæ¥è§£å†³**


Block Fomatting Context å’ŒInline Formatting Context


æƒ³è±¡æˆä¸€ä¸ªç»“ç•Œ**æˆ–**ç‹¬ç«‹çš„å°ä¸–ç•Œï¼Œé‡Œé¢çš„å…ƒç´ å¦‚ä½•å¸ƒå±€ï¼Œä¸ä¼šå½±å“åˆ°å¤–é¢çš„å…ƒç´ ï¼›åä¹‹ï¼Œå¤–é¢çš„å¸ƒå±€ä¹Ÿä¸ä¼šå½±å“åˆ°é‡Œé¢ã€‚


è§¦å‘æ¡ä»¶ï¼šä¸€ä¸ªå…ƒç´ åªè¦æ»¡è¶³ä»¥ä¸‹**ä»»æ„ä¸€ä¸ªæ¡ä»¶**ï¼Œå°±ä¼šåˆ›å»ºæ–°çš„ BFCï¼š

- **æ ¹å…ƒç´ **Â **`<html>`**ï¼šæœ¬èº«å°±æ˜¯ä¸€ä¸ª BFCã€‚
- **`display: flow-root;`**ï¼š**ç°ä»£é¦–é€‰ï¼**Â è¿™æ˜¯ä¸“é—¨ä¸ºäº†åˆ›å»º BFC è€Œç”Ÿçš„å±æ€§ï¼Œæ²¡æœ‰ä»»ä½•å‰¯ä½œç”¨ã€‚
- **`float`**ï¼šå€¼ä¸ºÂ **`left`**Â æˆ–Â **`right`**Â çš„æµ®åŠ¨å…ƒç´ ã€‚
- **`position`**ï¼šå€¼ä¸ºÂ **`absolute`**Â æˆ–Â **`fixed`**Â çš„å®šä½å…ƒç´ ã€‚
- **`display`**ï¼šå€¼ä¸ºÂ **`inline-block`**,Â **`table-cell`**,Â **`table-caption`**,Â **`flex`**,Â **`grid`**,Â **`inline-flex`**,Â **`inline-grid`**Â çš„å…ƒç´ ã€‚
- **`overflow`**ï¼šå€¼ä¸ä¸ºÂ **`visible`**Â çš„å…ƒç´ ï¼ˆå¦‚Â **`hidden`**,Â **`auto`**,Â **`scroll`**ï¼‰ã€‚

è§£å†³é—®é¢˜ï¼š


**1. é˜²æ­¢çˆ¶å…ƒç´ é«˜åº¦å¡Œé™·ï¼ˆæ¸…é™¤æµ®åŠ¨ï¼‰**


**2. é˜²æ­¢å¤–è¾¹è·é‡å  (Margin Collapsing)**


**3. é˜²æ­¢æ–‡å­—ç¯ç»•æµ®åŠ¨å…ƒç´ ï¼ˆå®ç°å¤šæ å¸ƒå±€ï¼‰**


## ğŸ‰Â  å †å ä¸Šä¸‹æ–‡ä¸‹çš„z-index


ä¸€ä¸ªå…ƒç´ ä¼šåˆ›å»ºè‡ªå·±çš„å æ”¾ä¸Šä¸‹æ–‡ï¼Œæ¯”å¦‚å½“å®ƒæ»¡è¶³ä»¥ä¸‹æ¡ä»¶ä¹‹ä¸€æ—¶ï¼š


| æ¡ä»¶                                                          | ç¤ºä¾‹                                |
| ----------------------------------------------------------- | --------------------------------- |
| position ä¸º `absolute`/`relative`/`fixed` ä¸” `z-index` é auto | `position: relative; z-index: 1;` |
| `position: sticky` æ—¶                                        | `position: sticky;`               |
| å…ƒç´  `opacity < 1`                                            | `opacity: 0.8;`                   |
| å…ƒç´ ä½¿ç”¨äº† `transform`                                           | `transform: translateX(10px);`    |
| `filter`, `perspective`, `mix-blend-mode` ç­‰                 | `filter: blur(5px);`              |
| `isolation: isolate`                                        | `isolation: isolate;`             |


å¦‚æœæŸä¸ªçˆ¶å…ƒç´ åˆ›å»ºäº†ä¸€ä¸ªç‹¬ç«‹ stacking contextï¼Œåˆ™å…¶å†…éƒ¨å…ƒç´ çš„ z-index å†é«˜ï¼Œä¹Ÿ**æ— æ³•è¶Šè¿‡**è¿™ä¸ªçˆ¶ä¸Šä¸‹æ–‡ä¹‹å¤–çš„å…ƒç´ ã€‚


**æ€»ç»“ï¼šz-indexä¸æ˜¯å…¨å±€çš„æœ‰æ—¶å€™ä¼šè¢«çˆ¶å…ƒç´ çš„z-indexæŸç¼š å¯¼è‡´å®é™…ä¸Šçš„æå‡z-indexä¸èµ·æ•ˆæœ**


## ğŸ‰Â  å¸ƒå±€ä¸Flex


ä¸€ç›´ä»¥æ¥åŸºæœ¬ä¸Šflexéƒ½æ˜¯æŸ¥ æ€»ç»“ä¸€ä¸‹æ„Ÿè§‰ç¨å¾®å¥½ç‚¹


æŠŠå®¹å™¨å’Œitemçš„å±æ€§åˆ†å¼€çœ‹ä¸€ä¸‹ï¼š


å®¹å™¨å±æ€§ï¼š

- flex-direction ï¼ˆè®¾ç½®æ–¹å‘ è¡Œåˆ—ï¼‰
- flex-wrap ï¼ˆè®¾ç½®æŠ˜è¡Œï¼‰
- flex-flow  ï¼ˆ`flex-direction`å±æ€§å’Œ`flex-wrap`å±æ€§çš„ç®€å†™ï¼‰
- **justify-content** ï¼ˆä¸»è½´ä¸Šçš„å¯¹é½æ–¹å¼ï¼‰
- **align-items** ï¼ˆäº¤å‰è½´ä¸Šå¦‚ä½•å¯¹é½ï¼‰
- align-content ï¼ˆå¤šæ ¹è½´çº¿çš„å¯¹é½æ–¹å¼ï¼‰

é¡¹ç›®å±æ€§ï¼š

- `order` ï¼ˆé¡ºåºï¼‰
- `flex-grow` ï¼ˆæ”¾å¤§é»˜è®¤ä¸æ”¾å¤§ï¼‰
- `flex-shrink` ï¼ˆç¼©å°é»˜è®¤ç¼©å°ï¼‰
- `flex-basis` ï¼ˆå›ºå®šå®½åº¦ï¼‰
- `flex` ï¼ˆç®€å†™ï¼‰
- `align-self` ï¼ˆæŒ‡å®šå¯¹é½è¦†ç›–`align-items`ï¼‰

## ğŸ‰Â  function.apply( )çš„æ–¹æ³•


1.æ”¹å˜thisçš„æŒ‡å‘


**ä¼ ç»Ÿå‡½æ•°ï¼ˆ****`function`** **å£°æ˜çš„å‡½æ•°ï¼‰çš„** **`this`** **æŒ‡å‘æ˜¯åœ¨å‡½æ•°è¢«è°ƒç”¨æ—¶æ‰å†³å®šçš„ï¼Œè€Œä¸æ˜¯åœ¨å‡½æ•°è¢«å®šä¹‰æ—¶å†³å®šçš„ã€‚** å½“ä¸€ä¸ªå‡½æ•°è¢«â€œç‹¬ç«‹â€è°ƒç”¨æ—¶ï¼ˆå³æ²¡æœ‰ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ï¼Œæ²¡æœ‰ç”¨ **`new`**ï¼Œä¹Ÿæ²¡æœ‰ç”¨ **`bind/call/apply`**ï¼‰ï¼Œåœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå®ƒçš„ **`this`** é»˜è®¤æŒ‡å‘å…¨å±€å¯¹è±¡ **`window`**ã€‚


**ç®­å¤´å‡½æ•°**ä¸éµå¾ªâ€œè°ƒç”¨æ—¶å†³å®š **`this`**â€çš„è§„åˆ™ã€‚


ä¸€èˆ¬æ¥è¯´å…ˆæœ‰ä¸€ä¸ªé€šç”¨çš„å‡½æ•°ç”¨thiså¡«å…¥çš„å˜é‡ï¼Œå†ç”¨applyå°±å¯ä»¥å¯¼å…¥æŒ‡å®šçš„thisäº†ã€‚å¤§æ¦‚æ˜¯è¿™æ ·çš„ä¸€ä¸ªç”¨æ³•ã€‚


è¯­æ³•ï¼š


```javascript
func.apply(thisArg, [argsArray])
```


```javascript
const person = {
fullName: function(city, country) {
console.log(`${this.firstName} ${this.lastName} lives in ${city}, ${country}.`);
}
};

const person1 = {
firstName: "John",
lastName: "Doe"
};

// person1 å€Ÿç”¨ person çš„ fullName æ–¹æ³•
// this æŒ‡å‘ person1ï¼Œå‚æ•° 'New York' å’Œ 'USA' ä»æ•°ç»„ä¸­å–å‡º
person.fullName.apply(person1, ['New York', 'USA']);
// è¾“å‡º: John Doe lives in New York, USA.

```


2.ä»¥æ•°ç»„å½¢å¼ä¼ æœ¬æ¥ä¸èƒ½æ•°ç»„ä¼ çš„å‚ ä½†æ˜¯ç°åœ¨ç”¨ES6å±•å¼€äº†


æ¯”å¦‚


```javascript
Math.max(5, 6, 2, 3, 7)
=> this way is not to be allowed:Math.max([5,6,2,3,7])
=> use this way: Math.max.apply(null,[5,6...])
```


**`apply`** **vs** **`call`** **vs** **`bind`**


| ç‰¹æ€§         | `call()`                                    | `apply()`                                      | `bind()`                                    |
| ---------- | ------------------------------------------- | ---------------------------------------------- | ------------------------------------------- |
| **å‚æ•°ä¼ é€’æ–¹å¼** | **é€ä¸ªåˆ—ä¸¾** `func.call(this, arg1, arg2, ...)` | **æ•°ç»„å½¢å¼** `func.apply(this, [arg1, arg2, ...])` | **é€ä¸ªåˆ—ä¸¾** `func.bind(this, arg1, arg2, ...)` |
| **å‡½æ•°æ‰§è¡Œæ—¶æœº** | **ç«‹å³æ‰§è¡Œ**                                    | **ç«‹å³æ‰§è¡Œ**                                       | **ä¸ç«‹å³æ‰§è¡Œ**ï¼Œè¿”å›ä¸€ä¸ª**æ–°çš„ã€ç»‘å®šäº† this çš„å‡½æ•°**           |
| **è¿”å›å€¼**    | å‡½æ•°çš„æ‰§è¡Œç»“æœ                                     | å‡½æ•°çš„æ‰§è¡Œç»“æœ                                        | ä¸€ä¸ªæ–°çš„å‡½æ•°                                      |


## ğŸ‰Â  é˜²æŠ–


å¾ˆä¹…éƒ½è®°ä¸èµ·é˜²æŠ–èŠ‚æµäº†ã€‚


ä¸€èˆ¬æ¥è¯´éœ€è¦ä¸€ä¸ªé—­åŒ…å­˜å‚¨ä¸€ä¸ªå…±äº«å˜é‡ã€‚


åŸç†æ˜¯ä¸æ–­é‡ç½®æ›´æ–°settimeoutå‡½æ•° åªæœ‰æœ€åä¸€æ¬¡æ“ä½œç»è¿‡è®¾ç½®timeåæ‰ç®—æ‰§è¡Œ


åˆ«äººå†™çš„ï¼š


```javascript
// é˜²æŠ–å‡½æ•°
function debounce(fn, wait) {
  let timer;
  return function () {
    let _this = this;
    let args = arguments;
    if (timer) {
      clearTimeout(timer);
    }
    timer = setTimeout(function () {
      fn.apply(_this, args);
    }, wait);
  };
}
// ä½¿ç”¨
window.onresize = debounce(function () {
  console.log("resize");
}, 500);

```


å…¶å®æ¯”è¾ƒéš¾æ‡‚å¾—æ˜¯ä¸ºä»€ä¹ˆå¡è¿›å»thiså’Œargs


è®©glmå¸®æˆ‘ä¸¾äº†ä¸¤ä¸ªä¾‹å­æ¯”è¾ƒæ˜æ™°äº†


args:


```javascript
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <input type="text" id="search-input" />
    <script>
      // è¿™æ˜¯æˆ‘ä»¬æœ€ç»ˆè¦æ‰§è¡Œçš„å‡½æ•°ï¼Œå®ƒéœ€è¦ä¸€ä¸ª query å‚æ•°
      function searchApi(query) {
        console.log(`æ­£åœ¨æœç´¢: ${query}...`);
        // æ¨¡æ‹Ÿå‘æœåŠ¡å™¨å‘é€è¯·æ±‚
      }
      function badDebounce(fn, wait) {
        let timer;
        return function () {
          // æ³¨æ„ï¼šè¿™é‡Œæ²¡æœ‰ let args = arguments;
          if (timer) clearTimeout(timer);
          timer = setTimeout(function () {
            fn(); // ç›´æ¥è°ƒç”¨ fnï¼Œæ²¡æœ‰ä¼ é€’ä»»ä½•å‚æ•°ï¼
          }, wait);
        };
      }

      const badDebouncedSearch = badDebounce(searchApi, 500);

      const searchInput = document.getElementById("search-input");
      searchInput.addEventListener("keyup", function (e) {
        // æˆ‘ä»¬æŠŠè¾“å…¥æ¡†çš„å€¼ä¼ ç»™äº† badDebouncedSearch
        badDebouncedSearch(e.target.value);
      });
    </script>
  </body>
</html>

```


argsçš„ç¼ºå¤±ç»“æœè·å–ä¸åˆ°æ§ä»¶ä¼ å‚


thisé˜²æ­¢fné‡Œæœ‰this


æ€»ç»“ï¼š


**é˜²æŠ–**å°±æ˜¯ä¸æ–­æ¸…ç©ºå®šæ—¶å™¨ç„¶åæ·»åŠ æ–°çš„ ä½¿å¾—æ“ä½œä¸æ–­å»¶å æœ€åä¸€æ¬¡æ“ä½œä¸ºå‡†


**â€œä½ è§¦å‘å¾—å¤ªå¿«äº†ï¼Œç­‰ä½ åœä¸‹æ¥æ­‡ä¸€ä¼šå„¿æˆ‘å†æ‰§è¡Œã€‚â€**


**èŠ‚æµ**å°±æ˜¯ä¸æ–­æŸ¥çœ‹æ—¶é—´å·®ï¼ˆè¿™æ¬¡å’Œä¸Šä¸€æ¬¡ï¼‰ å¦‚æœæ²¡è¶…è¿‡å°±ä¸æ“ä½œ è¶…è¿‡è¿™ä¸ªæ—¶é—´å†æ“ä½œå¹¶æ›´æ–°æ—¶é—´


**â€œæˆ‘ä¸ç®¡ä½ è§¦å‘å¤šå°‘æ¬¡ï¼Œæˆ‘åªåœ¨å›ºå®šæ—¶é—´æ‰§è¡Œä¸€æ¬¡ã€‚â€**


é—­åŒ…æ˜¯å®ç°ä¸¤ä¸ªçš„å¤©é€‰ä¹‹å­ï¼Œ**è§£å†³çŠ¶æ€çš„æŒä¹…åŒ–ï¼ˆç§æœ‰ä¸”ç‹¬ç«‹çš„çŠ¶æ€ï¼‰å’Œå°è£…é—®é¢˜**ã€‚



## ğŸ‰Â åŸå‹é“¾å’Œç»§æ‰¿


åŸå‹é“¾æ˜¯ JavaScript ä¸­ç”¨äºå®ç°ç»§æ‰¿å’Œå±æ€§æŸ¥æ‰¾çš„ä¸€ç§æœºåˆ¶ã€‚æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªåŸå‹å¯¹è±¡ï¼ˆprototypeï¼‰ã€‚é€šè¿‡åŸå‹å¯¹è±¡å¯ä»¥å®ç°å±æ€§å’Œæ–¹æ³•çš„ç»§æ‰¿ã€‚


JavaScript å¼•æ“ä¼šæ²¿ç€åŸå‹é“¾å‘ä¸ŠæŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°ç›¸åº”çš„å±æ€§æˆ–æ–¹æ³•æˆ–è€…åˆ°è¾¾åŸå‹é“¾çš„é¡¶ç«¯ï¼ˆObject.prototypeï¼‰ä¸ºæ­¢ã€‚


æ²¡æœ‰ES6ä¹‹å‰çš„ç»§æ‰¿ï¼š


æœ‰3æ­¥ï¼š


 01 ç»§æ‰¿å±æ€§ ï¼ŒAnimal.call(this, name)


02 é€šè¿‡è¿æ¥åŸå‹é“¾å®Œæˆç»§æ‰¿ ï¼ŒDog.prototype = Object.create(Animal.prototype)


03 å†åŠ ä¸Š constructorï¼Œ Dog.prototype.constructor = Dog


```typescript
function Animal(name) {
  this.name = name;
}
 
Animal.prototype.hello = () => {
  console.log("hello");
};
 
function Dog(name, say) {
  // 01 ç»§æ‰¿å±æ€§
  Animal.call(this, name);
  this.say = say;
}
 
// 02 é€šè¿‡è¿æ¥åŸå‹é“¾å®Œæˆç»§æ‰¿
Dog.prototype = Object.create(Animal.prototype);
 
// 03 å†åŠ ä¸Š constructor
Dog.prototype.constructor = Dog;
// Reflect.defineProperty(Dog.prototype, "constructor", {
//  value: Dog,
//  enumerable: false, // ä¸å¯æšä¸¾
//  writable: true
// })
```


æœ‰ES6å°±éå¸¸ç®€å•äº†ï¼š


```typescript
class Animal {
  constructor(name) {
    this.name = name;
  }
 
  hello() {
    console.log("hello");
  }
}
 
class Dog extends Animal {
  constructor(name, say) {
    super(name);
    this.say = say;
  }
}
```


## ğŸ‰  **new çš„æ—¶å€™å‘ç”Ÿäº†ä»€ä¹ˆ**

1. åˆ›å»ºäº†ä¸€ä¸ªæ–°å¯¹è±¡ { }
2. é“¾æ¥åˆ°åŸå‹ const instance = Object.create(fn.prototype);
3. ç»‘å®šthisæŒ‡å‘ fn.apply(instance, args);

  4.   è¿”å›è¿™ä¸ªå¯¹è±¡ { }


## ğŸ‰ äº‹ä»¶å¾ªç¯


äº‹ä»¶å¾ªç¯æ— éå®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ä½†æ˜¯æˆ‘ä¸€ç›´ä¹ŸæŒºæ··ä¹±çš„ é—®äº†GLMç»™äº†æˆ‘ä¸€ä¸ªä¾‹å­æˆ‘è§‰å¾—å¾ˆä¸é”™


ä¸»è¦æ˜¯æ‰€æœ‰çš„ä»£ç éƒ½æ˜¯ä¸¤ç±»ï¼šä¸€ç±»å®ä¸€ç±»å¾®ä»»åŠ¡ **åŒæ­¥ä»£ç ä¼šå…ˆæ‰§è¡Œå®Œ**

- **å®ä»»åŠ¡**ï¼šåŒ…æ‹¬ **`script`** (æ•´ä½“ä»£ç )ã€**`setTimeout`**ã€**`setInterval`**ã€I/O æ“ä½œã€UI æ¸²æŸ“ç­‰ã€‚æ¯æ¬¡æ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡åï¼Œä¼šæ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚
- **å¾®ä»»åŠ¡**ï¼šåŒ…æ‹¬ **`Promise.then()`**ã€**`Promise.catch()`**ã€**`Promise.finally()`**ã€**`process.nextTick`** (Node.js) ç­‰ã€‚åœ¨ä¸€ä¸ªå®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åï¼Œä¼šç«‹å³æ¸…ç©ºæ‰€æœ‰å¾®ä»»åŠ¡ã€‚

example:


```typescript
setTimeout(() => console.log(0));
new Promise((resolve) => {
  console.log(1);
  resolve(2);
  console.log(3);
}).then((o) => console.log(o));
 
new Promise((resolve) => {
  console.log(4);
  resolve(5);
})
  .then((o) => console.log(o))
  .then(() => console.log(6));
```


é‡ç‚¹æ˜¯**æ•´ä½“ä»£ç ä¹Ÿå±äºå®ä»»åŠ¡ï¼Œåœ¨ä¸€ä¸ªå®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åï¼Œä¼šç«‹å³æ¸…ç©ºæ‰€æœ‰å¾®ä»»åŠ¡ã€‚**


**ç¬¬ä¸€é˜¶æ®µï¼šæ‰§è¡Œä¸»è„šæœ¬ï¼ˆè¿™æ˜¯ä¸€ä¸ªå®ä»»åŠ¡ï¼‰**

- å®ä»»åŠ¡é˜Ÿåˆ—: **`[setTimeout(callback 0)]`**
- å¾®ä»»åŠ¡é˜Ÿåˆ—: **`[]`**

**new Promise((resolve) => { ... })**

- å®ä»»åŠ¡é˜Ÿåˆ—: **`[setTimeout(callback 0)]`**
- å¾®ä»»åŠ¡é˜Ÿåˆ—: **`[then(callback 2)]`**

**new Promise((resolve) => { ... })**

- å®ä»»åŠ¡é˜Ÿåˆ—: **`[setTimeout(callback 0)]`**
- å¾®ä»»åŠ¡é˜Ÿåˆ—: **`[then(callback 2), then(callback 5)]`** (æ³¨æ„å…¥é˜Ÿé¡ºåº)

**ç¬¬äºŒé˜¶æ®µï¼šä¸»è„šæœ¬æ‰§è¡Œå®Œæ¯•ï¼Œæ¸…ç©ºå¾®ä»»åŠ¡é˜Ÿåˆ—**


å–å‡ºç¬¬ä¸€ä¸ªå¾®ä»»åŠ¡ï¼š**`then(callback 2)`**


å–å‡ºç¬¬äºŒä¸ªå¾®ä»»åŠ¡ï¼š**`then(callback 5)`**


è§¦å‘é“¾å¼è°ƒç”¨çš„ä¸‹ä¸€ä¸ª **`.then()`** **æ”¾å…¥** **`then(callback 6)`**


å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸ä¸ºç©ºï¼Œç»§ç»­æ‰§è¡Œ å–å‡ºå¾®ä»»åŠ¡ï¼š**`then(callback 6)`**


**ç¬¬ä¸‰é˜¶æ®µï¼šå¾®ä»»åŠ¡é˜Ÿåˆ—å·²æ¸…ç©ºï¼Œæ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡**


å–å‡ºå®ä»»åŠ¡ï¼š**`setTimeout(callback 0)`**


æ€»ç»“ï¼š**ä¸€å®å®Œæ¸…æ‰€æœ‰ï¼ˆè¿™ä¸ªå®äº§ç”Ÿçš„ï¼‰å¾® å†ä¸‹ä¸€ä¸ªå®** 


åœ¨äº‹ä»¶å¾ªç¯ä¸­ settimeoutå’Œæ•´ä¸ªä»£ç éƒ½æ˜¯åŒçº§åˆ«çš„å®


## ğŸ‰ V8åƒåœ¾å›æ”¶


å…¶å®è¿™ä¸ªæˆ‘ä¹Ÿä¸æƒ³æ·±å…¥ç ”ç©¶å°±è®©GLMå¸®æˆ‘æ€»ç»“ä¸€ä¸‹ç”¨äºé¢è¯•ï¼š


â€œNode.js çš„åƒåœ¾å›æ”¶ï¼ˆGCï¼‰æ˜¯ V8 å¼•æ“è‡ªåŠ¨ç®¡ç†å†…å­˜çš„æœºåˆ¶ã€‚å®ƒçš„æ ¸å¿ƒç­–ç•¥æ˜¯**åˆ†ä»£å›æ”¶**ï¼ŒæŠŠå†…å­˜åˆ†ä¸º**æ–°ç”Ÿä»£**å’Œ**è€ç”Ÿä»£**ã€‚æ–°ç”Ÿä»£å­˜æ”¾ç”Ÿå‘½å‘¨æœŸçŸ­çš„å¯¹è±¡ï¼Œç”¨**å¤åˆ¶ç®—æ³•**å¿«é€Ÿå›æ”¶ï¼›è€ç”Ÿä»£å­˜æ”¾å­˜æ´»ä¹…çš„å¯¹è±¡ï¼Œç”¨**æ ‡è®°-æ¸…é™¤**ç®—æ³•æ…¢é€Ÿä½†å½»åº•åœ°å›æ”¶ã€‚è¿™æ ·è®¾è®¡èƒ½å…¼é¡¾æ•ˆç‡å’Œå†…å­˜åˆ©ç”¨ç‡ã€‚â€

1. **è‡ªåŠ¨ç®¡ç†**ï¼šä½ ä¸ç”¨ç®¡ï¼ŒV8 å¸®ä½ åšã€‚
2. **æ ¸å¿ƒç­–ç•¥**ï¼š**åˆ†ä»£å›æ”¶**ã€‚
3. **ä¸¤ä¸ªåŒºåŸŸ**ï¼š**æ–°ç”Ÿä»£**ï¼ˆæ–°å¯¹è±¡ï¼‰å’Œ**è€ç”Ÿä»£**ï¼ˆè€å¯¹è±¡ï¼‰ã€‚
4. **ä¸¤ç§ç®—æ³•**ï¼šæ–°ç”Ÿä»£ç”¨**å¤åˆ¶**ï¼ˆå¿«ï¼‰ï¼Œè€ç”Ÿä»£ç”¨**æ ‡è®°-æ¸…é™¤**ï¼ˆæ…¢ï¼‰ã€‚
5. **ç›®çš„**ï¼šå…¼é¡¾**æ•ˆç‡**å’Œ**æ€§èƒ½**ã€‚

## ğŸ‰ script (async/defer)



| ç‰¹æ€§                | `<script>` (æ— å±æ€§)           | `<script async>`    | `<script defer>`                |
| ----------------- | -------------------------- | ------------------- | ------------------------------- |
| **ä¸‹è½½æ˜¯å¦é˜»å¡HTMLè§£æï¼Ÿ** | **æ˜¯**                      | **å¦** (å¹¶è¡Œä¸‹è½½)        | **å¦** (å¹¶è¡Œä¸‹è½½)                    |
| **æ‰§è¡Œæ˜¯å¦é˜»å¡HTMLè§£æï¼Ÿ** | **æ˜¯**                      | **æ˜¯** (ä¸‹è½½å®Œåç«‹å³æ‰§è¡Œ)    | **å¦** (åœ¨HTMLè§£æå®Œæˆåæ‰§è¡Œ)            |
| **æ‰§è¡Œé¡ºåº**          | **æŒ‰é¡ºåº** (æ–‡æ¡£é¡ºåº)             | **æ— åº** (è°å…ˆä¸‹è½½å®Œè°å…ˆæ‰§è¡Œ)  | **æŒ‰é¡ºåº** (æ–‡æ¡£é¡ºåº)                  |
| **ä½•æ—¶æ‰§è¡Œï¼Ÿ**         | ç«‹å³ä¸‹è½½ï¼Œç«‹å³æ‰§è¡Œ                  | ä¸‹è½½å®Œæˆåç«‹å³æ‰§è¡Œ           | HTMLè§£æå®Œæˆåï¼Œ`DOMContentLoaded` ä¹‹å‰ |
| **é€‚ç”¨åœºæ™¯**          | æå°‘ä½¿ç”¨ï¼Œé™¤éè„šæœ¬å¿…é¡»ç«‹å³æ‰§è¡Œå¹¶å½±å“åç»­HTMLæ¸²æŸ“ | **ç‹¬ç«‹çš„ç¬¬ä¸‰æ–¹è„šæœ¬**ï¼Œå¦‚ç»Ÿè®¡ã€å¹¿å‘Š | **æœ‰ä¾èµ–å…³ç³»çš„åº”ç”¨ä¸»è„šæœ¬**ï¼Œå¦‚JSæ¡†æ¶ã€åº”ç”¨é€»è¾‘      |


## ğŸ‰ å›è°ƒ/promise/**generator**/async


å›è°ƒåœ°ç‹±â†’promiseï¼šé“¾å¼è°ƒç”¨è§£å†³å›è°ƒåµŒå¥—â†’asyncï¼šæ›´åŒæ­¥é£çš„promiseè¯­æ³•ç³–ï¼ˆæœ¬è´¨generator+promiseï¼‰


**Generator æœ¬èº«æ˜¯ä¸€ä¸ªåŒæ­¥çš„ã€ç”¨äºæ§åˆ¶æ‰§è¡Œæµç¨‹çš„å·¥å…·ã€‚å®ƒä¹‹æ‰€ä»¥ä¸å¼‚æ­¥ç¼–ç¨‹ç´§å¯†ç›¸è¿ï¼Œæ˜¯å› ä¸ºå®ƒçš„â€œæš‚åœ/æ¢å¤â€ç‰¹æ€§ä¸ºç®¡ç†å¼‚æ­¥æ“ä½œæä¾›äº†ä¸€ç§é©å‘½æ€§çš„æ–°æ€è·¯ï¼Œå‚¬ç”Ÿäº†** **`async/await`** **è¿™ç§ç»ˆæè§£å†³æ–¹æ¡ˆã€‚**


## ğŸ‰ **åŒ…è£…å¯¹è±¡**


**åŒ…è£…å¯¹è±¡è§£é‡Šäº†ä¸ºä»€ä¹ˆåƒ** **`string`****ã€****`number`****ã€****`boolean`** **è¿™æ ·çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå´èƒ½è°ƒç”¨æ–¹æ³•å’Œè®¿é—®å±æ€§ï¼Ÿ**


åŸºæœ¬ç±»å‹ **æ²¡æœ‰å±æ€§å’Œæ–¹æ³•**ï¼šè¿™æ˜¯åŸºæœ¬å®šä¹‰ï¼Œä¸€ä¸ªçº¯ç²¹çš„å€¼ä¸åº”è¯¥æœ‰å¤æ‚çš„è¡Œä¸ºã€‚


åŒ…è£…å¯¹è±¡æ˜¯ JavaScript å†…ç½®çš„ä¸€ç§ç‰¹æ®Šå¯¹è±¡ï¼Œå®ƒâ€œåŒ…è£…â€äº†åŸºæœ¬ç±»å‹çš„å€¼ï¼Œå¹¶æä¾›äº†ä¸€ç³»åˆ—æœ‰ç”¨çš„å±æ€§å’Œæ–¹æ³•æ¥æ“ä½œè¿™ä¸ªå€¼ã€‚


ä¸»è¦æœ‰ä¸‰ç§åŒ…è£…å¯¹è±¡ï¼š

- **`String`** å¯¹è±¡ï¼šåŒ…è£… **`string`** åŸºæœ¬ç±»å‹ã€‚
- **`Number`** å¯¹è±¡ï¼šåŒ…è£… **`number`** åŸºæœ¬ç±»å‹ã€‚
- **`Boolean`** å¯¹è±¡ï¼šåŒ…è£… **`boolean`** åŸºæœ¬ç±»å‹ã€‚

ç†è®ºä¸ŠåŸºæœ¬ç±»å‹å’Œå¯¹è±¡æ˜¯çŸ›ç›¾çš„ åŸºæœ¬ç±»å‹ä¸èƒ½ç”¨new **å¼ºçƒˆä¸æ¨èæ˜¾å¼åˆ›å»ºåŒ…è£…å¯¹è±¡ å› ä¸ºè¿™æ ·åšæŒºå¥‡æ€ªçš„**


JavaScript å¼•æ“åœ¨å¹•åå®Œæˆäº†ä¸€åˆ‡ã€‚è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸º **â€œè‡ªåŠ¨è£…ç®±â€**ã€‚



å¼•æ“ä¼š**ç«‹å³ã€ä¸´æ—¶åœ°**åˆ›å»ºä¸€ä¸ª **`String`** å¯¹è±¡çš„å®ä¾‹ï¼Œè¿™ä¸ªå®ä¾‹çš„å†…å®¹ä¸ **`str`** çš„å€¼ç›¸åŒã€‚


```javascript
let str = "hello";
let upperStr = str.toUpperCase();
```


**`// å¼•æ“å†…éƒ¨æ‚„æ‚„æ‰§è¡Œï¼šlet tempObj = new String("hello");`**


å¼•æ“åœ¨è¿™ä¸ª**ä¸´æ—¶å¯¹è±¡**ä¸Šè°ƒç”¨ **`toUpperCase()`** æ–¹æ³•


æœ€åè¿”å›ç»“æœå¹¶é”€æ¯


æ€»ç»“ï¼šè‡ªåŠ¨è£…ç®±ï¼Œä¸´æ—¶åˆ›å»ºç”¨å®Œé”€æ¯


## ğŸ‰ vueçš„refå’Œreactive


### **refï¼ˆå“åº”å¼åŒ…è£…å¯¹è±¡ï¼‰**


vueçš„refç”¨çš„æ¯”è¾ƒé€šç”¨ï¼Œå› ä¸ºæŠŠåŸºæœ¬ç±»å‹é€šè¿‡refè½¬åŒ–æˆäº†ä¸€ä¸ªï¼ˆå“åº”å¼ï¼‰åŒ…è£…å¯¹è±¡ï¼ˆç±»ä¼¼jsé‡Œçš„è‡ªæœ‰å†…ç½®çš„String,Numberè™½ç„¶ä»–ä»¬ä¹Ÿæ˜¯åŸºæœ¬ç±»å‹ä½†æ˜¯ä¹Ÿæœ‰æ–¹æ³•å’Œå±æ€§ï¼‰ã€‚è¿™æ ·å°±èƒ½å¤Ÿå…·æœ‰å“åº”å¼äº†ã€‚refé€šè¿‡`.value` å¯ä»¥**éšæ„æ›¿æ¢åŸºæœ¬ç±»å‹çš„å€¼**è¿˜èƒ½å¤Ÿä¿æŒå“åº”å¼ã€‚


è¿™ä¸ªä¹Ÿéå¸¸å¥½ç†è§£æ¯•ç«Ÿæ•´ä¸ªåŒ…è£…å¯¹è±¡ä¸Šæœ‰å¾ˆå¤šå±æ€§å’Œæ–¹æ³•ï¼Œåªæ˜¯æ›¿æ¢äº†**`valueå±æ€§`**å½“ç„¶ä¸ä¼šå¯¹å…¶é€ æˆå½±å“ã€‚


### **reactive ï¼ˆProxyï¼‰**


vueçš„reactiveå°±åªä¸ºå¼•ç”¨ç±»å‹è€Œç”Ÿï¼Œå°±æ˜¯ç”¨äºobjectç±»å‹ã€‚


å› ä¸º**ä»–ä¸æ˜¯åŒ…è£…å¯¹è±¡ï¼Œä»–æ˜¯è¿”å›ä¸€ä¸ªå¯¹è±¡çš„å“åº”å¼ä»£ç†proxy**æ‰€ä»¥ä»–ä¹Ÿä¸å…·æœ‰valueï¼Œæ›¿æ¢æ•´ä¸ªå¯¹è±¡é‚£å°±æ˜¯ç›´æ¥å˜æˆäº†å…¶ä»–ä¸œè¥¿å’Œreactiveç›´æ¥æ— å…³äº†ã€‚


ç„¶åè¿™åˆå¼•å‡ºä¸€ä¸ªé—®é¢˜ï¼š


vueçš„åº•å±‚å“åº”å¼ä¸æ˜¯proxyä¸ºä»€ä¹ˆçœ‹èµ·æ¥åªæœ‰reactiveç”¨äº†ï¼Ÿ


**`reactive`** **æ˜¯ç›´æ¥ä½¿ç”¨ Proxy API çš„æš´éœ²å±‚ï¼Œè€Œ** **`ref`** **æ˜¯ä¸€ä¸ªä¸ºäº†å¤„ç†åŸºæœ¬ç±»å‹è€Œè®¾è®¡çš„â€œåŒ…è£…å™¨â€ï¼Œå½“å®ƒåŒ…è£…å¯¹è±¡æ—¶ï¼Œå†…éƒ¨ä¼šè°ƒç”¨** **`reactive`****ã€‚**


## ğŸ‰ **`async`** **å‡½æ•°æ€»æ˜¯è¿”å›ä¸€ä¸ª Promise**


**ä»»ä½•ä¸€ä¸ªå‡½æ•°ï¼Œåªè¦åœ¨å®ƒå‰é¢åŠ ä¸Šäº†** **`async`** **å…³é”®å­—ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼å°±è‡ªåŠ¨è¢«åŒ…è£…æˆä¸€ä¸ª Promise å¯¹è±¡ã€‚**


```typescript
// ä¸€ä¸ªç®€å•çš„ async å‡½æ•°ï¼Œå®ƒè¿”å›ä¸€ä¸ªæ•°å­—
async function getNumberAfterDelay(num) {
  await new Promise(resolve => setTimeout(resolve, 1000)); // æ¨¡æ‹Ÿ1ç§’å»¶è¿Ÿ
  return num;
}

const numbers = [10, 20, 30];

// ä½¿ç”¨ map å’Œ async å‡½æ•°
const promises = numbers.map(getNumberAfterDelay);

console.log(promises);
// ç«‹å³è¾“å‡ºï¼š
// [
//   Promise { <pending> },
//   Promise { <pending> },
//   Promise { <pending> }
// ]

// ç­‰å¾…æ‰€æœ‰ Promise å®Œæˆ
setTimeout(() => {
  console.log(promises);
  // 1ç§’åè¾“å‡ºï¼š
  // [
  //   Promise { <fulfilled>: 10 },
  //   Promise { <fulfilled>: 20 },
  //   Promise { <fulfilled>: 30 }
  // ]
}, 1500);
```


## ğŸ‰ å¤§æ–‡ä»¶åˆ‡ç‰‡ä¸Šä¼ 


é—®é¢˜ï¼šå¤§æ–‡ä»¶ä¸€æ¬¡æ€§ä¼ è¾“ä¸å¤ªå¥½ éœ€è¦æ–­ç‚¹ç»­ä¼ ï¼Œç§’ä¼ ï¼Œä¸é˜»å¡


è¦ç‚¹ï¼šblob.slice/chunks[]/sparkMD5/webworker


æµç¨‹ï¼šç”¨inputæ‹¿åˆ°æ–‡ä»¶ï¼Œç„¶åæŠŠæ–‡ä»¶åœ¨å‰ç«¯ç”¨blobçš„apiå»åšäºŒè¿›åˆ¶åˆ‡åˆ†ï¼Œåˆ‡åˆ†åå­˜å…¥æ•°ç»„å¾—åˆ°åˆ†ç‰‡ï¼Œå¯¹æ¯ä¸ªåˆ†ç‰‡è¿›è¡Œå•ç‹¬çš„ä¸Šä¼ ï¼Œä¸Šä¼ å®Œä¹‹ååç«¯è¿›è¡Œåˆå¹¶è¿”å›æœ€åçš„ä¸Šä¼ æˆåŠŸä¿¡æ¯ã€‚è¿›åº¦ï¼ˆç”¨åˆ‡ç‰‡ä¸Šä¼ è¿›åº¦ï¼‰


```typescript
 <input type="file" id="file_upload" />
 <button id="upload_btn">upload now</button>  
  
  const file_upload = document.querySelector("#file_upload");
    let chunksList = [];
    const chunkSize = 2 * 1024 * 1024;

    let createChunks = (file) => {
      let curSize = 0;
      while (curSize < file.size) {
        //slice è¶Šç•Œä¹Ÿä¸ä¼šæŠ¥é”™ï¼Œå®ƒåªè¿”å›å‰©ä½™çš„æ•°æ®éƒ¨åˆ†
        chunksList.push(file.slice(curSize, curSize + chunkSize));
        curSize += chunkSize;
      }
    };

    document
      .querySelector("#upload_btn")
      .addEventListener("click", async () => {
        const file = file_upload.files[0];
        const file_name = file.name;
        createChunks(file);
        //å°è£…æˆä¸€ä¸ªå¯¹è±¡åŒ…è£…ä¸€ä¸‹
        const uploadList = chunksList.map((item, index) => {
          return {
            blob_file: item,
            chunk_index: index,
            chunk_name: `${file_name}-${index}`,
            fileName: file_name,
          };
        });
        //åŒ…è£…æˆ‘çš„è¯·æ±‚
        const requestList = uploadList.map(
          ({ blob_file, chunk_index, chunk_name, fileName }) => {
            const formdata = new FormData();
            formdata.append("blob_file", blob_file);
            formdata.append("chunk_index", chunk_index);
            formdata.append("chunk_name", chunk_name);
            formdata.append("file_name", fileName);
            return axios({
              method: "POST",
              url: "https://localhost:3000/chunk_upload",
              data: formdata,
            });
          }
        );
        await Promise.all(requestList);
      });
```

